<html>
    <head>
        <title>Pomodoro!</title>
        <link rel="stylesheet" href="css/bootstrap.min.css">
        <link rel="stylesheet" href="css/styles.css">
        <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />
        <link rel="apple-touch-icon" href="img/apple-touch-icon.png" />
        <link rel="apple-touch-icon" sizes="57x57" href="img/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon" sizes="60x60" href="img/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon" sizes="72x72" href="img/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon" sizes="76x76" href="img/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon" sizes="114x114" href="img/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon" sizes="120x120" href="img/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon" sizes="144x144" href="img/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon" sizes="152x152" href="img/apple-touch-icon-152x152.png" />
    </head>

    <body>
        <div id="application">
        </div>
    </body>

    <!-- Templates -->
    <script id='pomodoro' type='text/ractive'>{{#instance}}
        <div id="header" class="jumbotron">
            <div class="container">
                <h1>
                    {{#active}}
                    {{makeTitle(format(remaining) + ' - ' + name)}}
                    {{name}} - {{format(remaining)}}
                    {{/active}}
                    {{^active}}
                    {{makeTitle('Pomodoro!')}}
                    Pomodoro
                    {{/active}}
                </h1>
            </div>
        </div>
                
        <div id="progress" class="progress {{ active ? 'progress-striped active' : '' }}">
            <div class="progress-bar"  role="progressbar" aria-valuemax="100" style="width: {{getWidth(active.remaining)}}%"></div>
        </div>

        <div class="container">
            <table class="tasks table">
                {{#tasks}}
                <tr decorator='sortable' class="{{active ? 'active' : ''}}" on-tap="start">
                    <td class="name">
                        <span class="{{remaining ? '' : 'finished'}}">
                            {{#active}}&raquo; {{/active}}
                            {{name}}
                        </span>
                    </td>
                    <td on-tap="pause" class="action action-pause glyphicon glyphicon-pause"></td>
                    <td on-tap="delete" class="action action-delete glyphicon glyphicon-ban-circle"></td>
                    <td on-tap="finish" class="action action-finish glyphicon glyphicon-check"></td>
                </tr>
                {{/tasks}}
                <tr class="add-new">
                    <td>
                        <input on-enter='new' on-blur="clear" placeholder='Add a new task' />
                    </td>
                    <td></td>
                </tr>
            </table>

            <h2>Options</h2>
            {{#options}}
            <select value="{{currentSound}}">
                {{#sounds}}
                <option value="{{name}}">{{display}}</option>
                {{/sounds}}
            </select>
            <br />
            <label>
                <input checked="{{autobreak}}" type="checkbox">Take breaks automatically
            </label>
            <br />
            {{#autobreak}}
            <label>
                <input checked="{{autostart}}" type="checkbox">Start next task automatically
            </label>
            {{/autobreak}}
            {{/options}}
        </div>

        <div class="container">
            <hr />
            <footer>
                A fully-featured <a href="http://pomodorotechnique.com/">Pomodoro Technique</a> application.  Based on <a href="http://ractivejs.org">RactiveJS</a>.  Click to <a href="#" on-tap="reset">clear data.</a> 
            </footer>
        </div>

    {{/instance}}</script>
    <script src="js/Ractive.js"></script> <!-- TOOO: switch to Ractive runtime -->
    <script src="js/Ractive-decorators-sortable.js"></script>
    <script src="js/script.js"></script>
</html>
